<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {{- $options := dict "includePaths" (slice "node_modules") -}}
    {{- if hugo.IsProduction -}}
        {{- $options = merge $options (dict "outputStyle" "compressed") -}}
    {{- end -}}

    {{- $styles := resources.Get "css/styles.sass" | resources.ToCSS $options -}}

    {{- if hugo.IsProduction -}}
        {{- $styles = $styles | postCSS (dict "config" "./assets/css/postcss.config.js") | resources.Minify | resources.Fingerprint "sha512" | resources.PostProcess -}}
    {{- else -}}
        {{- $styles = $styles | postCSS (dict "config" "./assets/css/postcss.config.js") | resources.PostProcess -}}
    {{- end -}}

    <link rel="stylesheet" href="{{- $styles.RelPermalink -}}" integrity="{{- $styles.Data.Integrity -}}">
</head>