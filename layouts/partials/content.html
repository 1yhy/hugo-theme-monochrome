<article>
    {{ $reAltIn := "<img src=\"([^\"]+)\"( alt=\"([^\"]+)\"|.*)>" }}
    {{ $reAltOut := "<figure><img src=\"$1\" alt=\"$3\"><figcaption>$3</figcaption></figure>" }}
    {{ $newContent := .Content | replaceRE $reAltIn $reAltOut | safeHTML }}
    {{ $newContent }}
</article>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const zooming = new Zooming()
        zooming.listen('article img')
    })
</script>
