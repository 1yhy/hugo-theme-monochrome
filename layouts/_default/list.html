{{ define "content" }}

{{ if .Content }}
    <div class="content-margin">
        {{- partial "content.html" . -}}
    </div>
{{ end }}

{{- $group_by_year := .Params.group_by_year | default true -}}
{{- $show_date := .Params.show_date | default true -}}

{{ if $group_by_year }}
    {{ range .Pages.GroupByPublishDate "2006" }}
        <div class="content-margin">
            <h1>{{- .Key -}}</h1>
            {{- partial "list.html" (dict "pages" .Pages "show_date" $show_date) -}}
        </div>
    {{ end }}
{{ else }}
    <div class="content-margin">
        {{- partial "list.html" (dict "pages" .Pages "show_date" $show_date) -}}
    </div>
{{ end }}

{{ end }}